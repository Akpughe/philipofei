import React, { useState, useEffect } from 'react';
import { useTheme } from 'next-themes';

const Toggler = () => {
  const [isMounted, setIsMounted] = useState(false);
  const { theme, setTheme } = useTheme();
  useEffect(() => {
    setIsMounted(true);
  }, []);
  const switchTheme = () => {
    if (isMounted) {
      setTheme(theme === 'light' ? 'dark' : 'light');
    }
  };

  return (
    <button
      aria-label="Toggle Dark Mode"
      type="button"
      className="p-3 h-32 w-32 order-2 md:order-3"
      onClick={switchTheme}
    >
      {theme === 'light' ? (
        <svg
          width="60"
          height="60"
          viewBox="0 0 72 72"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="36" cy="36" r="36" fill="#14181B" />
          <path
            d="M51.8833 42.5501C51.6167 42.1001 50.8667 41.4001 49 41.7334C47.9667 41.9168 46.9167 42.0001 45.8667 41.9501C41.9833 41.7834 38.4667 40.0001 36.0167 37.2501C33.85 34.8334 32.5167 31.6834 32.5 28.2834C32.5 26.3834 32.8667 24.5501 33.6167 22.8168C34.35 21.1334 33.8333 20.2501 33.4667 19.8834C33.0833 19.5001 32.1833 18.9668 30.4167 19.7001C23.6 22.5668 19.3833 29.4001 19.8833 36.7168C20.3833 43.6001 25.2167 49.4834 31.6167 51.7001C33.15 52.2334 34.7667 52.5501 36.4333 52.6168C36.7 52.6334 36.9667 52.6501 37.2333 52.6501C42.8167 52.6501 48.05 50.0168 51.35 45.5334C52.4667 43.9834 52.1667 43.0001 51.8833 42.5501Z"
            fill="white"
          />
        </svg>
      ) : (
        <svg
          width="60"
          height="60"
          viewBox="0 0 72 72"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <circle cx="36" cy="36" r="36" fill="white" />
          <path
            d="M35.9999 47.6654C42.4432 47.6654 47.6666 42.442 47.6666 35.9987C47.6666 29.5554 42.4432 24.332 35.9999 24.332C29.5566 24.332 24.3333 29.5554 24.3333 35.9987C24.3333 42.442 29.5566 47.6654 35.9999 47.6654Z"
            fill="#101828"
          />
          <path
            d="M36.0001 54.268C35.0834 54.268 34.3334 53.5846 34.3334 52.668V52.5346C34.3334 51.618 35.0834 50.868 36.0001 50.868C36.9167 50.868 37.6667 51.618 37.6667 52.5346C37.6667 53.4513 36.9167 54.268 36.0001 54.268ZM47.9001 49.568C47.4667 49.568 47.0501 49.4013 46.7167 49.0846L46.5001 48.868C45.8501 48.218 45.8501 47.168 46.5001 46.518C47.1501 45.868 48.2001 45.868 48.8501 46.518L49.0667 46.7346C49.7167 47.3846 49.7167 48.4346 49.0667 49.0846C48.7501 49.4013 48.3334 49.568 47.9001 49.568ZM24.1001 49.568C23.6667 49.568 23.2501 49.4013 22.9167 49.0846C22.2667 48.4346 22.2667 47.3846 22.9167 46.7346L23.1334 46.518C23.7834 45.868 24.8334 45.868 25.4834 46.518C26.1334 47.168 26.1334 48.218 25.4834 48.868L25.2667 49.0846C24.9501 49.4013 24.5167 49.568 24.1001 49.568ZM52.6667 37.668H52.5334C51.6167 37.668 50.8667 36.918 50.8667 36.0013C50.8667 35.0846 51.6167 34.3346 52.5334 34.3346C53.4501 34.3346 54.2667 35.0846 54.2667 36.0013C54.2667 36.918 53.5834 37.668 52.6667 37.668ZM19.4667 37.668H19.3334C18.4167 37.668 17.6667 36.918 17.6667 36.0013C17.6667 35.0846 18.4167 34.3346 19.3334 34.3346C20.2501 34.3346 21.0667 35.0846 21.0667 36.0013C21.0667 36.918 20.3834 37.668 19.4667 37.668ZM47.6834 25.9846C47.2501 25.9846 46.8334 25.818 46.5001 25.5013C45.8501 24.8513 45.8501 23.8013 46.5001 23.1513L46.7167 22.9346C47.3667 22.2846 48.4167 22.2846 49.0667 22.9346C49.7167 23.5846 49.7167 24.6346 49.0667 25.2846L48.8501 25.5013C48.5334 25.818 48.1167 25.9846 47.6834 25.9846ZM24.3167 25.9846C23.8834 25.9846 23.4667 25.818 23.1334 25.5013L22.9167 25.268C22.2667 24.618 22.2667 23.568 22.9167 22.918C23.5667 22.268 24.6167 22.268 25.2667 22.918L25.4834 23.1346C26.1334 23.7846 26.1334 24.8346 25.4834 25.4846C25.1667 25.818 24.7334 25.9846 24.3167 25.9846ZM36.0001 21.068C35.0834 21.068 34.3334 20.3846 34.3334 19.468V19.3346C34.3334 18.418 35.0834 17.668 36.0001 17.668C36.9167 17.668 37.6667 18.418 37.6667 19.3346C37.6667 20.2513 36.9167 21.068 36.0001 21.068Z"
            fill="#101828"
          />
        </svg>
      )}
    </button>
  );
};

export default Toggler;
